<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéØ Tr√≤ ch∆°i QC - LƒÉng k√≠nh ng∆∞·ªùi ti√™u d√πng</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(120deg, #fff8dc, #ffe4e6);
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #6d28d9;
    }
    #game-container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      display: inline-block;
      padding: 20px;
      max-width: 500px;
      width: 100%;
    }
    img {
      max-width: 100%;
      border-radius: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      margin: 5px;
      background-color: #7c3aed;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background-color: #5b21b6;
    }
    select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 80%;
      margin-top: 5px;
      margin-bottom: 10px;
    }
    #result {
      font-size: 18px;
      font-weight: bold;
      margin-top: 15px;
    }
    #score {
      font-size: 18px;
      font-weight: bold;
      color: #16a34a;
      margin-top: 10px;
    }
    #timer {
      font-size: 18px;
      font-weight: bold;
      color: #dc2626;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h1>üè≠ LƒÉng k√≠nh ng∆∞·ªùi ti√™u d√πng</h1>

  <div id="menu">
    <h2>Ch·ªçn ch·∫ø ƒë·ªô ch∆°i</h2>
    <button onclick="startGame('sanpham')">ü•Ø L·ªói s·∫£n ph·∫©m</button>
    <button onclick="startGame('baobi')">üì¶ L·ªói bao b√¨</button>
  </div>

  <div id="game-container" style="display:none;">
    <div id="timer">Th·ªùi gian: 10s</div>
    <img id="biscuitImage" src="" alt="·∫¢nh l·ªói QC">
    <div>
      <button onclick="checkAnswer(true)">‚úÖ ƒê·∫°t</button>
      <button onclick="checkAnswer(false)">‚ùå L·ªói</button>
    </div>

    <div id="errorSection" style="display:none;">
      <p>Ch·ªçn lo·∫°i l·ªói:</p>
      <select id="errorSelect"></select>
      <br>
      <button onclick="submitError()">X√°c nh·∫≠n</button>
    </div>

    <div id="result"></div>
    <div id="score">ƒêi·ªÉm: 0</div>
    <br>
    <button onclick="nextImage()">üëâ ·∫¢nh ti·∫øp theo</button>
  </div>

  <script>
    const baseURL = "https://lehienbqc53-cpu.github.io/Mygame/images/";

    // Danh s√°ch l·ªói s·∫£n ph·∫©m
    const productErrors = [
      { src: "Banh_Be_Vo.png", correctError: "B√°nh b·ªÉ v·ª°" },
      { src: "Banh_Khuyet.png", correctError: "B√°nh khuy·∫øt" },
      { src: "Banh_Loi_Cong_Dau.png", correctError: "B√°nh cong ƒë·∫ßu" },
      { src: "Banh_Loi_Dinh_Nhau.png", correctError: "B√°nh d√≠nh nhau" },
      { src: "Banh_Loi_Khong_Dau.png", correctError: "B√°nh kh√¥ng d·∫ßu" },
      { src: "Banh_Mau_Sac_Khong_Dat.png", correctError: "M√†u s·∫Øc kh√¥ng ƒë·∫°t" },
      { src: "Banh_Rop_Mat.png", correctError: "R·ªôp m·∫∑t" },
      { src: "Banh_Sut_Mat_Mieng.png", correctError: "S·ª©t m·∫•t mi·∫øng" }
    ];

    // Danh s√°ch l·ªói bao b√¨
    const packagingErrors = [
      { src: "Bang_Keo_Nhan_Khong_Du_chieu_dai.png", correctError: "BƒÉng keo nhƒÉn kh√¥ng ƒë·ªß chi·ªÅu d√†i" },
      { src: "Bang_Keo_Noi_Cuon.png", correctError: "BƒÉng keo n·ªëi cu·ªôn" },
      { src: "Can_Trang.png", correctError: "C·∫•n tr·∫Øng" },
      { src: "Dan_Lech.png", correctError: "D√°n l·ªách" },
      { src: "Duong_Han_Bi_Hu_Hai.png", correctError: "ƒê∆∞·ªùng h√†n b·ªã h∆∞ h·∫°i" },
      { src: "Hop_Bi_Ho.png", correctError: "H·ªôp b·ªã h·ªü" },
      { src: "Lech_Bao_Bi.png", correctError: "L·ªách bao b√¨" },
      { src: "Sai_Date_Code.png", correctError: "Sai date code" },
      { src: "Xep_Ly.png", correctError: "X·∫øp ly" }
    ];

    // Danh s√°ch l·ªói hi·ªÉn th·ªã trong dropdown
    const errorOptions = {
      sanpham: [
        "B√°nh b·ªÉ v·ª°", "B√°nh khuy·∫øt", "B√°nh cong ƒë·∫ßu", "B√°nh d√≠nh nhau",
        "B√°nh kh√¥ng d·∫ßu", "M√†u s·∫Øc kh√¥ng ƒë·∫°t", "R·ªôp m·∫∑t", "S·ª©t m·∫•t mi·∫øng"
      ],
      baobi: [
        "BƒÉng keo nhƒÉn kh√¥ng ƒë·ªß chi·ªÅu d√†i", "BƒÉng keo n·ªëi cu·ªôn", "C·∫•n tr·∫Øng", "D√°n l·ªách",
        "ƒê∆∞·ªùng h√†n b·ªã h∆∞ h·∫°i", "H·ªôp b·ªã h·ªü", "L·ªách bao b√¨", "Sai date code", "X·∫øp ly"
      ]
    };

    let images = [];
    let mode = ""; // sanpham ho·∫∑c baobi
    let current = 0;
    let score = 0;
    let answered = false;
    let timeLeft = 10;
    let timerInterval;

    const imgElement = document.getElementById("biscuitImage");
    const resultElement = document.getElementById("result");
    const errorSection = document.getElementById("errorSection");
    const scoreElement = document.getElementById("score");
    const timerElement = document.getElementById("timer");
    const menu = document.getElementById("menu");
    const gameContainer = document.getElementById("game-container");
    const errorSelect = document.getElementById("errorSelect");

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function startGame(selectedMode) {
      mode = selectedMode;
      images = (mode === "sanpham" ? productErrors : packagingErrors)
        .map(img => ({ ...img, src: baseURL + img.src, isGood: false }));
      images.push({ src: baseURL + "Banh_Dat_1.png", isGood: true });
      images.push({ src: baseURL + "Banh_Dat_2.png", isGood: true });
      shuffleArray(images);
      menu.style.display = "none";
      gameContainer.style.display = "block";
      loadErrorOptions();
      loadImage();
    }

    function loadErrorOptions() {
      errorSelect.innerHTML = "<option value=''>-- Ch·ªçn lo·∫°i l·ªói --</option>";
      errorOptions[mode].forEach(opt => {
        const option = document.createElement("option");
        option.value = opt;
        option.textContent = opt;
        errorSelect.appendChild(option);
      });
    }

    function startTimer() {
      timerElement.textContent = `Th·ªùi gian: ${timeLeft}s`;
      timerInterval = setInterval(() => {
        timeLeft--;
        timerElement.textContent = `Th·ªùi gian: ${timeLeft}s`;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          resultElement.textContent = "‚è∞ H·∫øt th·ªùi gian!";
          answered = true;
          errorSection.style.display = "none";
        }
      }, 1000);
    }

    function checkAnswer(isGoodSelected) {
      if (answered) return;
      const currentImg = images[current];
      if (currentImg.isGood && isGoodSelected) {
        resultElement.textContent = "üéâ Ch√≠nh x√°c! ƒê√¢y l√† s·∫£n ph·∫©m ƒë·∫°t!";
        score++;
        scoreElement.textContent = "ƒêi·ªÉm: " + score;
        answered = true;
        clearInterval(timerInterval);
      } else if (!currentImg.isGood && !isGoodSelected) {
        resultElement.textContent = "‚ùó ƒê√¢y l√† l·ªói, h√£y ch·ªçn lo·∫°i l·ªói!";
        errorSection.style.display = "block";
      } else {
        resultElement.textContent = "‚ùå Sai r·ªìi!";
        errorSection.style.display = "none";
      }
    }

    function submitError() {
      const selected = errorSelect.value;
      const currentImg = images[current];
      if (!selected) {
        resultElement.textContent = "‚ö†Ô∏è H√£y ch·ªçn lo·∫°i l·ªói!";
        return;
      }
      if (selected === currentImg.correctError) {
        resultElement.textContent = "‚úÖ Ch√≠nh x√°c! B·∫°n ƒë√£ x√°c ƒë·ªãnh ƒë√∫ng lo·∫°i l·ªói.";
        score++;
      } else {
        resultElement.textContent = "‚ùå Sai lo·∫°i l·ªói.";
      }
      scoreElement.textContent = "ƒêi·ªÉm: " + score;
      answered = true;
      errorSection.style.display = "none";
      clearInterval(timerInterval);
    }

    function nextImage() {
      if (current < images.length - 1) {
        current++;
        loadImage();
      } else {
        showFinalScore();
      }
    }

    function loadImage() {
      const currentImg = images[current];
      imgElement.src = currentImg.src;
      resultElement.textContent = "";
      errorSection.style.display = "none";
      errorSelect.value = "";
      answered = false;
      clearInterval(timerInterval);
      timeLeft = 10;
      startTimer();
    }

    function showFinalScore() {
      clearInterval(timerInterval);
      gameContainer.innerHTML = `
        <h2>üéâ Ho√†n th√†nh!</h2>
        <p>ƒêi·ªÉm c·ªßa b·∫°n: <strong>${score}/${images.length}</strong></p>
        <button onclick="location.reload()">üîÑ Ch∆°i l·∫°i</button>
      `;
    }
  </script>

</body>
</html>

